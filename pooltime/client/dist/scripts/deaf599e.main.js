!function(a){"use strict";a.module("login",["ngRoute"]).config(["$routeProvider",function(a){a.when("/login",{templateUrl:"scripts/features/login/login.html",controller:"LoginCtrl",controllerAs:"loginView"})}]).service("UserService",["$q","$localStorage",function(a,b){function c(){d.loggedIn=!0}var d,e;d={loggedIn:!1},e={username:""},this.isLoggedIn=function(){return d.loggedIn},this.getState=function(){return d},this.getCurrentUser=function(){return e},this.login=function(){return b.username=e.username,a.when(!0).then(c)}}]).controller("LoginCtrl",["UserService","$location",function(a,b){function c(){b.path("/picks")}this.user=a.getCurrentUser(),this.login=function(){a.login().then(c)}}])}(angular),function(a){"use strict";var b={};b.PicksForAllUsers={joe:{lkj:"PACKERS",asdf:"PATRIOTS",qwert:"LIONS",zxc:"CHARGERS"},ryan:{lkj:"SEAHAWKS",asdf:"PATRIOTS",qwert:"GIANTS",zxc:"CHARGERS"},will:{lkj:"SEAHAWKS",asdf:"DOLPHINS",qwert:"GIANTS",zxc:"CHARGERS"},colombo:{lkj:"PACKERS",asdf:"PATRIOTS",qwert:"LIONS",zxc:"CHARGERS"}},b.ThisWeeksMatchups=[{id:"lkj",homeTeam:"SEAHAWKS",awayTeam:"PACKERS",favorite:"SEAHAWKS",underdog:"PACKERS",spread:5.5,result:{winner:"SEAHAWKS",pointDifference:36}},{id:"asdf",homeTeam:"DOLPHINS",awayTeam:"PATRIOTS",favorite:"PATRIOTS",underdog:"DOLPHINS",spread:6,result:{winner:"DOLPHINS",pointDifference:13}},{id:"qwert",homeTeam:"LIONS",awayTeam:"GIANTS",favorite:"LIONS",underdog:"GIANTS",spread:6.5,result:null},{id:"zxc",homeTeam:"CARDINALS",awayTeam:"CHARGERS",favorite:"CARDINALS",underdog:"CHARGERS",spread:3,result:null}],a.module("picks",["ngRoute"]).config(["$routeProvider",function(a){a.when("/picks",{templateUrl:"scripts/features/picks/picks.html",controller:"PicksCtrl",controllerAs:"picksView",resolve:{thisWeeksMatchups:["MatchupsService",function(a){return a.getThisWeeksMatchups()}],picks:["PicksService","UserService",function(a,b){return a.getThisWeeksPicksForUser(b.getCurrentUser())}]}}).when("/all-picks",{templateUrl:"scripts/features/picks/all-picks.html",controller:"AllPicksCtrl",controllerAs:"allPicksView",resolve:{thisWeeksMatchups:["MatchupsService",function(a){return a.getThisWeeksMatchups()}],allPicks:["PicksService",function(a){return a.getThisWeeksPicksForAllUsers()}]}})}]).service("PicksService",["$q",function(a){this.getThisWeeksPicksForUser=function(c){return a.when(b.PicksForAllUsers[c.username.toLowerCase()])},this.getThisWeeksPicksForAllUsers=function(){return a.when(b.PicksForAllUsers)}}]).service("MatchupsService",["$q",function(a){this.getThisWeeksMatchups=function(){return a.when(b.ThisWeeksMatchups)}}]).service("ScoreHelper",function(){this.isCorrect=function(a,b){var c,d,e,f=null;return a.result&&(d=a.result.winner,d===a.favorite?(c=a.result.pointDifference-a.spread,e=a.underdog):(c=a.result.pointDifference+a.spread,e=a.favorite),c>0?f=d:0>c&&(f=e)),f===b},this.getTotalCorrect=function(b,c){var d=0;return a.forEach(b,function(a){this.isCorrect(a,c[a.id])&&d++},this),d}}).controller("PicksCtrl",["thisWeeksMatchups","picks","ScoreHelper",function(a,b,c){this.matchups=a,this.picks=b,this.scoreHelper=c,this.isPick=function(a,c){return b[a.id]===c},this.pickTeam=function(a,c){b[a.id]=c}}]).controller("AllPicksCtrl",["thisWeeksMatchups","allPicks","ScoreHelper",function(a,b,c){this.matchups=a,this.allPicks=b,this.scoreHelper=c}])}(angular),function(a){"use strict";a.module("nflpicks",["ngRoute","ngStorage","login","picks"]).config(["$routeProvider",function(a){a.otherwise({redirectTo:"/login"})}]).run(["$rootScope","$location","UserService","$localStorage",function(a,b,c,d){!c.isLoggedIn()&&d.username&&(c.getCurrentUser().username=d.username,c.login()),a.$on("$routeChangeStart",function(){var a=b.path();"/login"===a&&c.isLoggedIn()?b.path("/picks"):"/login"===a||c.isLoggedIn()||b.path("/login")})}]).directive("jzNavHeader",["$location","UserService",function(b,c){return{template:'<div ng-show="userIsLoggedIn()">    <ul class="nav nav-pills pull-right">        <li ng-repeat="tab in tabs" ng-class="{\'active\': atLocation(tab.path)}"><a ng-href="#{{tab.path}}">{{ tab.title }}</a></li>    </ul>    <h3 class="text-muted">Week 1</h3></div>',link:function(d){d.tabs=[{path:"/picks",title:"My Picks"},{path:"/all-picks",title:"All Picks"}],d.atLocation=function(a){return b.path()===a},d.userIsLoggedIn=function(){return c.isLoggedIn()},d.getCurrentTab=function(){var c,d=b.path();return a.forEach(this.tabs,function(a){a.path===d&&(c=a)}),c}}}}])}(angular);